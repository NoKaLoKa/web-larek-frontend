# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код
### 1. Класс `Api`
Класс реализует методы для работы с сервером, получением и отправкой данных.

Конструктор принимает такие аргументы:
- `baseUrl: string` — базовая ссылка на API.
- `options: RequestInit = {}` — список настроек запроса.

Класс имеет такие методы:
- `handleResponse` — обрабатывает запрос с сервера. `if (response.ok)` возвращает `response.json`, иначе выводит сообщение об ошибке.
- `get` — получает данные с сервера, после чего вызывает метод `handleResponse`.
- `post` — отправляет данные на сервер, после чего вызывает метод `handleResponse`.

### 2. Класс `EventEmitter`
Реализует паттерн «Наблюдатель» и позволяет подписываться на события и уведомлять подписчиков
о наступлении события.

Класс имеет такие методы:
- `on`, `onAll` — устанавливают обработчик(и) на событи(е/я).
- `off`, `offAll` — снимают обработчик(и) с событи(я/й).
- `emit` — уведомляет о наступлении события.
- `trigger` — генерирует событие при вызове.

## Описание данных
### 1. Интерфейс `ICard`
Интерфейс описывает данные карточки.

- `id`, `description`, `image`, `title`, `category`, `price` — данные о карточке получаемые с сервера с помощью класса `API`.

### 2. Интерфейс `IDeliveryForm`
Описывает данные о способе оплаты и адресе доставке.

- `payment` — способ оплаты.
- `adress` — адрес доставки.

### 3. Интерфейс `IOrderForm`
Описывает данные о пользователе.

- `email` — электронная почта.
- `phone` — номер телефона.

## Компоненты модели данных (бизнес-логика)
### 1. Класс `Cards`
Класс хранит массив карточек и обеспечивает работу с ними.

Класс имеет такие методы:
- `set` — добавляет карточку в корзину.
- `delete` — удаляет карточку из корзины.
- `init` — инициализирует массив карточек.

### 2. Класс `User`                                                                            
Сохраняет данные пользователя во время оформления заказа.

## Компоненты представления
### 1. Класс `ShowCards`
Выводит карточки на страницу; класс забирает данные из `Cards`, и отрисовывает их с помощью метода `init`.

### 2. Класс `Modal`
Отвечает за отображение модальных окон.
Позволяет открыть модальное окно карточки и корзины с помощью медтода `open` и закрыть с помощью `close`.

### 3. Класс `Basket`
Отображает заголовок и цену карточек добавленных в корзину.
Метод `delete` класса `Cards` позволяет удалять карточки из корзины.
Открытие и закрытие корзины происходит спомощью методов класса `Modal`.

### 4. Класс `Form`
Сохраняет заполнение форм при покупке и отвечает за валидацию полей.
Открытие и закрытие корзины происходит спомощью методов класса `Modal`.

Класс имеет такие методы:
- `isValid` — валидирует поля.
- `changeOnInput` — сохраняет данные введенные пользователем.
- `nextForm` — позволяет перейти к следующему окну оформления заказа если поля проходят валидацию.
